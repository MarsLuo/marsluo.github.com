---
layout: post
title: "mina解析GCDAsyncSocket发送的消息时无法解析"
description: ""
categories: 工匠梦
tags: [iOS, GCDAsyncSocket, mina, socket]
---

最近在做一个需要使用socket和服务器交互的App。  

我发的消息服务器完全无法解析。  

服务器这边设置的字串的传输模式。  

比如说， 我这边发送“abc”， 服务就收到’61 62 63‘；  

偶然之下，在字串后面添加了一个'\n', 结果服务器就能够识别了。

初步判断是， 如果以字串模式传输, 每一个字串应该是一个完整的行，如果不是完整的行，服务器会继续等待接收数据，直到收到完整的行为止，才会去做解析的动作。  

所以就出现了，如果不发送换行符，服务器就默认将收到的数据转为二进制流的问题了。  